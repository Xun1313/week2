(function(t){function a(a){for(var e,i,d=a[0],c=a[1],s=a[2],u=0,l=[];u<d.length;u++)i=d[u],n[i]&&l.push(n[i][0]),n[i]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);m&&m(a);while(l.length)l.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var t,a=0;a<o.length;a++){for(var r=o[a],e=!0,d=1;d<r.length;d++){var c=r[d];0!==n[c]&&(e=!1)}e&&(o.splice(a--,1),t=i(i.s=r[0]))}return t}var e={},n={app:0},o=[];function i(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,a,r){i.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,a){if(1&a&&(t=i(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var e in t)i.d(r,e,function(a){return t[a]}.bind(null,e));return r},i.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(a,"a",a),a},i.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},i.p="/week2/dist/";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],c=d.push.bind(d);d.push=a,d=d.slice();for(var s=0;s<d.length;s++)a(d[s]);var m=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,a,r){t.exports=r("56d7")},"01b7":function(t,a,r){t.exports=r.p+"img/新接龍_方塊3.52abe755.svg"},"03cf":function(t,a,r){t.exports=r.p+"img/新接龍_紅心2.261d3d95.svg"},"0f77":function(t,a,r){t.exports=r.p+"img/新接龍_方塊8.07e6fd9b.svg"},1045:function(t,a,r){},"121c":function(t,a,r){t.exports=r.p+"img/新接龍_紅心6.67505a1f.svg"},"135a":function(t,a,r){t.exports=r.p+"img/新接龍_方塊6.61c9eda5.svg"},"13ad":function(t,a,r){t.exports=r.p+"img/新接龍_梅花2.bbeff21e.svg"},"1f91":function(t,a,r){t.exports=r.p+"img/新接龍_方塊10.ae58066d.svg"},"23b7":function(t,a,r){t.exports=r.p+"img/新接龍_紅心J.cb059cf4.svg"},"295b":function(t,a,r){t.exports=r.p+"img/新接龍_梅花6.ae4746dd.svg"},"29b8":function(t,a,r){},"2c06":function(t,a,r){t.exports=r.p+"img/新接龍_梅花8.c57d7d8c.svg"},"2eaa":function(t,a,r){t.exports=r.p+"img/新接龍_方塊5.b5d858bd.svg"},"2f1f":function(t,a,r){t.exports=r.p+"img/新接龍_紅心7.13afff88.svg"},"34ea":function(t,a,r){t.exports=r.p+"img/新接龍_黑桃9.8ce2d8d3.svg"},"34fe":function(t,a,r){t.exports=r.p+"img/新接龍_方塊7.e4e2c1b4.svg"},"38e6":function(t,a,r){t.exports=r.p+"img/新接龍_黑桃5.5a734ee4.svg"},"450e":function(t,a,r){t.exports=r.p+"img/新接龍_方塊2.45732f21.svg"},"55a3":function(t,a,r){t.exports=r.p+"img/新接龍_梅花10.3588d87d.svg"},"56d7":function(t,a,r){"use strict";r.r(a);r("cadf"),r("551c"),r("f751"),r("097d");var e=r("2b0e"),n=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"all-card"},[r("div",{staticClass:"card-container"},[t._l(4,function(t,a){return r("div",{key:a+87,staticClass:"card-item"},[r("div",{staticClass:"card-temp"})])}),t._l(t.mark,function(t,a){return r("div",{key:a-87,staticClass:"card-item"},[r("div",{staticClass:"card-icon"}),r("div",{staticClass:"card-done",class:t})])})],2),r("div",{staticClass:"empty"},[r("div",{staticClass:"empty1",attrs:{draggable:"false"}}),r("div",{staticClass:"empty1",attrs:{draggable:"false"}}),r("div",{staticClass:"empty1",attrs:{draggable:"false"}}),r("div",{staticClass:"empty1",attrs:{draggable:"false"}}),r("div",{staticClass:"empty1",attrs:{draggable:"false"}}),r("div",{staticClass:"empty1",attrs:{draggable:"false"}}),r("div",{staticClass:"empty1",attrs:{draggable:"false"}}),r("div",{staticClass:"empty1",attrs:{draggable:"false"}}),r("div",{staticClass:"undo",on:{click:function(a){return t.undoHandler(a)}}},[t._v("undo")])])])])},o=[],i=(r("55dd"),r("ac6a"),r("75fc")),d=(r("7514"),r("28a5"),r("768b")),c=r("1157"),s=r.n(c),m={data:function(){return{mark:["club","diamond","spade","heart"],allUndo:[],undoNum:0,card:[{bgi:r("ff8d"),color:"red",mark:"heart",num:1,id:1e4*Math.random()},{bgi:r("03cf"),color:"red",mark:"heart",num:2,id:1e4*Math.random()},{bgi:r("f65d"),color:"red",mark:"heart",num:3,id:1e4*Math.random()},{bgi:r("b3d3"),color:"red",mark:"heart",num:4,id:1e4*Math.random()},{bgi:r("e8bd"),color:"red",mark:"heart",num:5,id:1e4*Math.random()},{bgi:r("121c"),color:"red",mark:"heart",num:6,id:1e4*Math.random()},{bgi:r("2f1f"),color:"red",mark:"heart",num:7,id:1e4*Math.random()},{bgi:r("d239"),color:"red",mark:"heart",num:8,id:1e4*Math.random()},{bgi:r("5870"),color:"red",mark:"heart",num:9,id:1e4*Math.random()},{bgi:r("fd0d"),color:"red",mark:"heart",num:10,id:1e4*Math.random()},{bgi:r("23b7"),color:"red",mark:"heart",num:11,id:1e4*Math.random()},{bgi:"https://picsum.photos/id/54/150/300",color:"red",mark:"heart",num:12,id:1e4*Math.random()},{bgi:r("a184"),color:"red",mark:"heart",num:13,id:1e4*Math.random()},{bgi:"https://picsum.photos/id/54/150/300",color:"red",mark:"diamond",num:1,id:1e4*Math.random()},{bgi:r("450e"),color:"red",mark:"diamond",num:2,id:1e4*Math.random()},{bgi:r("01b7"),color:"red",mark:"diamond",num:3,id:1e4*Math.random()},{bgi:r("ef9a"),color:"red",mark:"diamond",num:4,id:1e4*Math.random()},{bgi:r("2eaa"),color:"red",mark:"diamond",num:5,id:1e4*Math.random()},{bgi:r("135a"),color:"red",mark:"diamond",num:6,id:1e4*Math.random()},{bgi:r("34fe"),color:"red",mark:"diamond",num:7,id:1e4*Math.random()},{bgi:r("0f77"),color:"red",mark:"diamond",num:8,id:1e4*Math.random()},{bgi:r("b61d"),color:"red",mark:"diamond",num:9,id:1e4*Math.random()},{bgi:r("1f91"),color:"red",mark:"diamond",num:10,id:1e4*Math.random()},{bgi:r("eb9c"),color:"red",mark:"diamond",num:11,id:1e4*Math.random()},{bgi:"https://picsum.photos/id/54/150/300",color:"red",mark:"diamond",num:12,id:1e4*Math.random()},{bgi:r("74d3"),color:"red",mark:"diamond",num:13,id:1e4*Math.random()},{bgi:"https://picsum.photos/id/54/150/300",color:"black",mark:"club",num:1,id:1e4*Math.random()},{bgi:r("13ad"),color:"black",mark:"club",num:2,id:1e4*Math.random()},{bgi:r("b56e"),color:"black",mark:"club",num:3,id:1e4*Math.random()},{bgi:r("9d73"),color:"black",mark:"club",num:4,id:1e4*Math.random()},{bgi:r("6871"),color:"black",mark:"club",num:5,id:1e4*Math.random()},{bgi:r("295b"),color:"black",mark:"club",num:6,id:1e4*Math.random()},{bgi:"https://picsum.photos/id/54/150/300",color:"black",mark:"club",num:7,id:1e4*Math.random()},{bgi:r("2c06"),color:"black",mark:"club",num:8,id:1e4*Math.random()},{bgi:"https://picsum.photos/id/54/150/300",color:"black",mark:"club",num:9,id:1e4*Math.random()},{bgi:r("55a3"),color:"black",mark:"club",num:10,id:1e4*Math.random()},{bgi:r("7cc6"),color:"black",mark:"club",num:11,id:1e4*Math.random()},{bgi:"https://picsum.photos/id/54/150/300",color:"black",mark:"club",num:12,id:1e4*Math.random()},{bgi:r("9fee"),color:"black",mark:"club",num:13,id:1e4*Math.random()},{bgi:"https://picsum.photos/id/54/150/300",color:"black",mark:"spade",num:1,id:1e4*Math.random()},{bgi:"https://picsum.photos/id/54/150/300",color:"black",mark:"spade",num:2,id:1e4*Math.random()},{bgi:r("e747"),color:"black",mark:"spade",num:3,id:1e4*Math.random()},{bgi:r("b556"),color:"black",mark:"spade",num:4,id:1e4*Math.random()},{bgi:r("38e6"),color:"black",mark:"spade",num:5,id:1e4*Math.random()},{bgi:r("fdd5"),color:"black",mark:"spade",num:7,id:1e4*Math.random()},{bgi:r("e889"),color:"black",mark:"spade",num:7,id:1e4*Math.random()},{bgi:r("6774"),color:"black",mark:"spade",num:8,id:1e4*Math.random()},{bgi:r("34ea"),color:"black",mark:"spade",num:9,id:1e4*Math.random()},{bgi:r("78c6"),color:"black",mark:"spade",num:10,id:1e4*Math.random()},{bgi:r("9634"),color:"black",mark:"spade",num:11,id:1e4*Math.random()},{bgi:"https://picsum.photos/id/54/150/300",color:"black",mark:"spade",num:12,id:1e4*Math.random()},{bgi:r("f4bc"),color:"black",mark:"spade",num:13,id:1e4*Math.random()}]}},methods:{dragover:function(t){t.stopPropagation(),t.preventDefault()},drop:function(t){t.stopPropagation();var a=t.dataTransfer.getData("text/plain"),r=t.currentTarget.children[0].dataset,e=r.mark,n=r.num,o=r.color,i=a.split(","),c=Object(d["a"])(i,3),s=c[0],m=c[1],u=c[2],l=s!==e,g=n-m===1,p=parseInt(n)+1===parseInt(m),f=u!==o,b=t.currentTarget.closest(".card-item");l&&g&&f&&null===b?this.movingDrag(s,m,t.currentTarget):!l&&p&&null!==b?this.movingDrag(s,m,t.currentTarget):"card-item"===t.currentTarget.parentElement.className&&null!==b&&this.movingDrag(s,m,t.currentTarget)},dragstart:function(t){t.stopPropagation();var a=t.currentTarget.classList;window.setTimeout(function(){a.add("none")},0);var r=t.target.children[0].dataset,e=r.mark,n=r.num,o=r.color;t.dataTransfer.setData("text/plain","".concat(e,",").concat(n,",").concat(o))},dragend:function(t){t.stopPropagation(),t.currentTarget.setAttribute("draggable",!1),t.currentTarget.classList.remove("none")},dragoverTemp:function(t){t.preventDefault(),t.stopPropagation()},dropTemp:function(t){t.stopPropagation();var a=t.dataTransfer.getData("text/plain"),r=a.split(","),e=Object(d["a"])(r,2),n=e[0],o=e[1],i=document.querySelector("img[data-mark='".concat(n,"'][data-num='").concat(o,"']")),c=i.nextElementSibling;0===t.currentTarget.children.length&&null===c&&this.movingDrag(n,o,t.currentTarget)},dragoverDone:function(t){t.preventDefault(),t.stopPropagation()},dropDone:function(t){t.stopPropagation();var a=t.dataTransfer.getData("text/plain"),r=a.split(","),e=Object(d["a"])(r,2),n=e[0],o=e[1];console.log(s()(t.currentTarget).find("img")),console.log(s()(t.currentTarget).find("img").length),t.currentTarget.className.split(" ")[1]===n&&"1"===o?this.movingDrag(n,o,t.currentTarget):t.currentTarget.className.split(" ")[1]===n&&s()(t.currentTarget).find("img").length+1===o&&this.movingDrag(n,o,t.currentTarget)},movingDrag:function(t,a,r){var e=document.querySelector("img[data-mark='".concat(t,"'][data-num='").concat(a,"']")).parentElement;this.saveUndo(e.parentElement,e,r),r.appendChild(e)},saveUndo:function(t,a,r){this.undoNum++,this.allUndo.push({back:t,element:a,go:r})},undoHandler:function(t){if(0===this.allUndo.length)t.preventDefault();else{var a=this.allUndo.length-1,r=this.allUndo[a],e=r.back,n=r.element,o=r.go;o.removeChild(n),e.appendChild(n),this.allUndo.splice(a,1)}},mousedown:function(t){t.stopPropagation();for(var a=[],r=[],e=[],n=[],o=s()(t.currentTarget).find("img"),i=0;i<o.length;i++)a.push(parseInt(o[i].dataset.num)),r.push(o[i].dataset.color);r.forEach(function(t,a,r){if(void 0===r[a+1])return!1;e.push(t!==r[a+1])});var d=e.every(function(t){return!0===t});a.forEach(function(t,a,r){if(void 0===r[a+1])return!1;n.push(t-1===r[a+1])});var c=n.every(function(t){return!0===t});d&&c?t.currentTarget.setAttribute("draggable",!0):1===r.length&&1===a.length&&t.currentTarget.setAttribute("draggable",!0)},allDom:function(t,a,r){for(var e=r-1,n=0;n<r;n++){var o=this.card[n+a],d=o.bgi,c=o.color,s=o.mark,m=o.num,u=document.createElement("IMG");u.src=d,u.dataset.color=c,u.dataset.mark=s,u.dataset.num=m,u.setAttribute("draggable",!1);var l=Object(i["a"])(document.querySelectorAll(".empty".concat(n+1)))[t];if(l.appendChild(u),n!==e){var g=document.createElement("DIV");g.setAttribute("draggable",!1),g.classList.add("empty".concat(n+2)),l.appendChild(g)}}}},mounted:function(){var t=this;this.allDom(0,0,7),this.allDom(1,7,7),this.allDom(2,14,7),this.allDom(3,21,7),this.allDom(4,28,6),this.allDom(5,34,6),this.allDom(6,40,6),this.allDom(7,46,6);for(var a=1;a<8;a++)Object(i["a"])(document.querySelectorAll(".empty".concat(a))).forEach(function(a){a.addEventListener("dragover",t.dragover),a.addEventListener("drop",t.drop),a.addEventListener("dragstart",t.dragstart),a.addEventListener("dragend",t.dragend),a.addEventListener("mousedown",t.mousedown)}),Object(i["a"])(document.querySelectorAll(".card-temp")).forEach(function(a){a.addEventListener("dragover",t.dragoverTemp),a.addEventListener("drop",t.dropTemp)}),Object(i["a"])(document.querySelectorAll(".card-done")).forEach(function(a){a.addEventListener("dragover",t.dragoverDone),a.addEventListener("drop",t.dropDone)})},created:function(){this.card=this.card.sort(function(t,a){return t.id-a.id})}},u=m,l=(r("5c0b"),r("2877")),g=Object(l["a"])(u,n,o,!1,null,null,null),p=g.exports;r("29b8"),r("1045"),r("b877"),r("70fb");e["a"].config.productionTip=!1,new e["a"]({render:function(t){return t(p)}}).$mount("#app")},5870:function(t,a,r){t.exports=r.p+"img/新接龍_紅心9.c6596439.svg"},"5c0b":function(t,a,r){"use strict";var e=r("5e27"),n=r.n(e);n.a},"5e27":function(t,a,r){},6774:function(t,a,r){t.exports=r.p+"img/新接龍_黑桃8.6a68daba.svg"},6871:function(t,a,r){t.exports=r.p+"img/新接龍_梅花5.f932530f.svg"},"70fb":function(t,a,r){},"74d3":function(t,a,r){t.exports=r.p+"img/新接龍_方塊K.fc412f0c.svg"},"78c6":function(t,a,r){t.exports=r.p+"img/新接龍_黑桃10.dbfac5f3.svg"},"7cc6":function(t,a,r){t.exports=r.p+"img/新接龍_梅花J.27674c73.svg"},9634:function(t,a,r){t.exports=r.p+"img/新接龍_黑桃J.454865f8.svg"},"9d73":function(t,a,r){t.exports=r.p+"img/新接龍_梅花4.23045815.svg"},"9fee":function(t,a,r){t.exports=r.p+"img/新接龍_梅花K.2987aed5.svg"},a184:function(t,a,r){t.exports=r.p+"img/新接龍_紅心K.7c0e8ff3.svg"},b3d3:function(t,a,r){t.exports=r.p+"img/新接龍_紅心4.0451826d.svg"},b556:function(t,a,r){t.exports=r.p+"img/新接龍_黑桃4.5a24ef7e.svg"},b56e:function(t,a,r){t.exports=r.p+"img/新接龍_梅花3.84c079c8.svg"},b61d:function(t,a,r){t.exports=r.p+"img/新接龍_方塊9.7d2794cd.svg"},b877:function(t,a,r){},d239:function(t,a,r){t.exports=r.p+"img/新接龍_紅心8.2ff0f330.svg"},e747:function(t,a,r){t.exports=r.p+"img/新接龍_黑桃3.41dbc9e3.svg"},e889:function(t,a,r){t.exports=r.p+"img/新接龍_黑桃7.9b0ae9e5.svg"},e8bd:function(t,a,r){t.exports=r.p+"img/新接龍_紅心5.335c8b52.svg"},eb9c:function(t,a,r){t.exports=r.p+"img/新接龍_方塊J.dcdde20b.svg"},ef9a:function(t,a,r){t.exports=r.p+"img/新接龍_方塊4.2cd1dbe0.svg"},f4bc:function(t,a,r){t.exports=r.p+"img/新接龍_黑桃K.dd7c7420.svg"},f65d:function(t,a,r){t.exports=r.p+"img/新接龍_紅心3.c9ee9619.svg"},fd0d:function(t,a,r){t.exports=r.p+"img/新接龍_紅心10.f6907205.svg"},fdd5:function(t,a,r){t.exports=r.p+"img/新接龍_黑桃6.a21b6c60.svg"},ff8d:function(t,a,r){t.exports=r.p+"img/新接龍_紅心A.b384b241.svg"}});
//# sourceMappingURL=app.1605f187.js.map